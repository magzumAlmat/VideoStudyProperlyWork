{"ast":null,"code":"import _slicedToArray from \"E:\\\\ALphaVideoStudy\\\\VideoStudy\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"E:\\\\ALphaVideoStudy\\\\VideoStudy\\\\client\\\\src\\\\components\\\\projects\\\\CreateProduct.js\";\nimport React, { Component, useState } from \"react\"; // import { createProject } from '../../store/actions/projectActions';\n\nimport { connect } from \"react-redux\";\nimport { Redirect } from \"react-router-dom\"; // import Select from './Select';\n// import Select from \"react-select\";\n\nimport CustomSelect from \"./Select\"; // import { Category } from '@material-ui/icons';\n\nimport { createProductAction } from \"..//../store/actions/productActions\";\nimport firebase from \"firebase\";\nimport { storage } from \"../../config/fbConfig\";\nconst options = [{\n  value: \"smartphone\",\n  label: \"СМАРТФОНЫ\"\n}, {\n  value: \"pads\",\n  label: \"ПЛАНШЕТЫ\"\n}, {\n  value: \"notebooks\",\n  label: \"НОУТБУКИ\"\n}, {\n  value: \"smartwatches\",\n  label: \"СМАРТ-ЧАСЫ\"\n}, {\n  value: \"headphones\",\n  label: \"НАУШНИКИ\"\n}, {\n  value: \"accessories\",\n  label: \"АКСЕССУАРЫ\"\n}, {\n  value: \"technique\",\n  label: \"ТЕХНИКА\"\n}];\n\nclass CreateProject extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      selectOptions: [],\n      cartItems: [],\n      title: \"\",\n      Category: \"\",\n      Region: \"\",\n      Manufacturer: \"\",\n      Brand: \"\",\n      Fortress: \"\",\n      Colour: \"\",\n      Sugar: \"\",\n      Grape: \"\",\n      Serving_temperature: \"\",\n      Vintage: \"\",\n      Products_webpage: \"\",\n      content: \"\",\n      description: \"\",\n      delivery: \"\",\n      img: \"\",\n      name: \"\",\n      picture: \"\",\n      price: 0,\n      sizes: [],\n      defaultQty: 0,\n      url: \"\",\n      urlVideo: \"\"\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.id]: e.target.value\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      console.log(\"state from CREATEPRODUCT\", this.state);\n      this.props.createProductAction(this.state);\n      this.props.history.push(\"/products\");\n    };\n\n    this.onChangeInput = (value, e) => {\n      this.state.Category = value;\n      this.state.selectOptions = this.state.Category.value;\n    };\n\n    this.UplpadComponentVideo = () => {\n      const _useState = useState(),\n            _useState2 = _slicedToArray(_useState, 2),\n            fileData = _useState2[0],\n            setFileData = _useState2[1];\n\n      const _useState3 = useState(),\n            _useState4 = _slicedToArray(_useState3, 2),\n            filePath = _useState4[0],\n            setFilPath = _useState4[1];\n\n      const fileChangeHandler = e => {\n        setFileData(e.target.files[0]);\n      };\n\n      const _useState5 = useState(\"\"),\n            _useState6 = _slicedToArray(_useState5, 2),\n            src = _useState6[0],\n            setSrc = _useState6[1];\n\n      const handleChange = event => {\n        try {\n          // Get the uploaded file\n          const file = event.target.files[0]; // Transform file into blob URL\n\n          setSrc(URL.createObjectURL(file));\n        } catch (error) {\n          console.error(error);\n        }\n      };\n\n      const onSubmitHandler = e => {\n        e.preventDefault();\n        console.log(\"console log e in UplpadComponent -  \", e); // Handle File Data from the state Before Sending\n\n        const data = new FormData();\n        data.append(\"image\", fileData);\n        setFilPath(fileData.filePath);\n        console.log('filePath name - ---- - --  ', filePath);\n        let lcase = String(fileData.name).toLowerCase();\n        console.log('fileFata name after lowercase', lcase);\n        this.state.urlVideo = src; // this.state.urlVideo = \"/static/media/\" + \"Lesson\" + \"--\" + (lcase);\n\n        fetch(\"http://localhost:5000/single\", {\n          method: \"POST\",\n          body: data\n        }).then(result => {\n          console.log(\"File Sent Successful\");\n          console.log('this is response --------------------- ', result);\n        }).catch(err => {\n          console.log(err.message);\n        });\n      };\n\n      return React.createElement(React.Fragment, null, React.createElement(\"form\", {\n        onSubmit: onSubmitHandler,\n        enctype: \"multipart/form-data\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"file\",\n        onChange: fileChangeHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248\n        },\n        __self: this\n      }, \"Submit File to Backend\")), React.createElement(\"video\", {\n        src: src,\n        controls: true,\n        width: \"100%\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251\n        },\n        __self: this\n      }, \"Sorry, your browser doesn't support embedded videos.\"), React.createElement(\"input\", {\n        type: \"file\",\n        onChange: handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254\n        },\n        __self: this\n      }));\n    };\n  }\n\n  //------------------------------------------------------------------------\n  render() {\n    const auth = this.props.auth;\n    if (!auth.uid) return React.createElement(Redirect, {\n      to: \"/signin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265\n      },\n      __self: this\n    });\n    return React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      className: \"white\",\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      className: \"grey-text text-darken-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270\n      },\n      __self: this\n    }, \"Create New Project\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"Category\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272\n      },\n      __self: this\n    }, \"Category\"), React.createElement(CustomSelect, {\n      options: options,\n      onChange: this.onChangeInput,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"input-field\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281\n      },\n      __self: this\n    }, \"Title\"), React.createElement(\"input\", {\n      type: \"text\",\n      id: \"title\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"input-field\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289\n      },\n      __self: this\n    }, \"Project Content\"), React.createElement(\"textarea\", {\n      id: \"content\",\n      className: \"materialize-textarea\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"input-field\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308\n      },\n      __self: this\n    }, \"name\"), React.createElement(\"input\", {\n      type: \"text\",\n      id: \"name\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"input-field\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"price\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316\n      },\n      __self: this\n    }, \"price\"), React.createElement(\"input\", {\n      type: \"number\",\n      id: \"price\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"input-field\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"default qty\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321\n      },\n      __self: this\n    }, \"default qty\"), React.createElement(\"input\", {\n      type: \"number\",\n      id: \"default qty\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329\n      },\n      __self: this\n    }), React.createElement(this.UplpadComponentVideo, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"input-field\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn pink lighten-1 z-depth-0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336\n      },\n      __self: this\n    }, \"Create Project\"))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    auth: state.firebase.auth\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    createProductAction: product => dispatch(createProductAction(product))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CreateProject);","map":{"version":3,"sources":["E:\\ALphaVideoStudy\\VideoStudy\\client\\src\\components\\projects\\CreateProduct.js"],"names":["React","Component","useState","connect","Redirect","CustomSelect","createProductAction","firebase","storage","options","value","label","CreateProject","state","selectOptions","cartItems","title","Category","Region","Manufacturer","Brand","Fortress","Colour","Sugar","Grape","Serving_temperature","Vintage","Products_webpage","content","description","delivery","img","name","picture","price","sizes","defaultQty","url","urlVideo","handleChange","e","setState","target","id","handleSubmit","preventDefault","console","log","props","history","push","onChangeInput","UplpadComponentVideo","fileData","setFileData","filePath","setFilPath","fileChangeHandler","files","src","setSrc","event","file","URL","createObjectURL","error","onSubmitHandler","data","FormData","append","lcase","String","toLowerCase","fetch","method","body","then","result","catch","err","message","render","auth","uid","mapStateToProps","mapDispatchToProps","dispatch","product"],"mappings":"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","sourcesContent":["import React, { Component, useState } from \"react\";\n// import { createProject } from '../../store/actions/projectActions';\nimport { connect } from \"react-redux\";\nimport { Redirect } from \"react-router-dom\";\n// import Select from './Select';\n// import Select from \"react-select\";\nimport CustomSelect from \"./Select\";\n// import { Category } from '@material-ui/icons';\nimport { createProductAction } from \"..//../store/actions/productActions\";\nimport firebase from \"firebase\";\nimport { storage } from \"../../config/fbConfig\";\n\nconst options = [\n  { value: \"smartphone\", label: \"СМАРТФОНЫ\" },\n  { value: \"pads\", label: \"ПЛАНШЕТЫ\" },\n  { value: \"notebooks\", label: \"НОУТБУКИ\" },\n  { value: \"smartwatches\", label: \"СМАРТ-ЧАСЫ\" },\n  { value: \"headphones\", label: \"НАУШНИКИ\" },\n  { value: \"accessories\", label: \"АКСЕССУАРЫ\" },\n  { value: \"technique\", label: \"ТЕХНИКА\" },\n];\nclass CreateProject extends Component {\n  state = {\n    selectOptions: [],\n    cartItems: [],\n    title: \"\",\n    Category: \"\",\n    Region: \"\",\n    Manufacturer: \"\",\n    Brand: \"\",\n    Fortress: \"\",\n    Colour: \"\",\n    Sugar: \"\",\n    Grape: \"\",\n    Serving_temperature: \"\",\n    Vintage: \"\",\n    Products_webpage: \"\",\n    content: \"\",\n    description: \"\",\n    delivery: \"\",\n    img: \"\",\n    name: \"\",\n    picture: \"\",\n    price: 0,\n    sizes: [],\n    defaultQty: 0,\n\n    url: \"\",\n    urlVideo: \"\",\n  };\n\n  handleChange = (e) => {\n    this.setState({\n      [e.target.id]: e.target.value,\n    });\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    console.log(\"state from CREATEPRODUCT\", this.state);\n    this.props.createProductAction(this.state);\n    this.props.history.push(\"/products\");\n  };\n\n  onChangeInput = (value, e) => {\n    this.state.Category = value;\n    this.state.selectOptions = this.state.Category.value;\n  };\n\n  //-------------------------------------------------------------------------\n\n  // ReactFirebaseFileUpload = () => {\n  //   const [image, setImage] = useState(null);\n  //   const [url, setUrl] = useState(\"\");\n  //   const [progress, setProgress] = useState(0);\n\n  //   const handleChange = (e) => {\n  //     if (e.target.files[0]) {\n  //       setImage(e.target.files[0]);\n  //     }\n  //   };\n\n  //   const handleUpload = () => {\n  //     const uploadTask = storage.ref(`images/${image.name}`).put(image);\n  //     uploadTask.on(\n  //       \"state_changed\",\n  //       (snapshot) => {\n  //         const progress = Math.round(\n  //           (snapshot.bytesTransferred / snapshot.totalBytes) * 100\n  //         );\n  //         setProgress(progress);\n  //       },\n  //       (error) => {\n  //         console.log(error);\n  //       },\n  //       () => {\n  //         storage\n  //           .ref(\"images\")\n  //           .child(image.name)\n  //           .getDownloadURL()\n  //           .then((url) => {\n  //             setUrl(url);\n  //             this.setState({ url });\n  //           });\n  //       }\n  //     );\n  //   };\n\n  //   console.log(\"URL \", this.state.url);\n\n  //   return (\n  //     <div>\n  //       <progress value={progress} max=\"100\" />\n  //       <br />\n  //       <br />\n  //       <input type=\"file\" onChange={handleChange} />\n  //       <a onClick={handleUpload}>Загрузить</a>\n\n  //       <br />\n  //       {url}\n  //       <br />\n  //       <img\n  //         src={url || \"http://via.placeholder.com/300\"}\n  //         alt=\"firebase-image\"\n  //       />\n  //     </div>\n  //   );\n  // };\n\n  //-----------------------------------------------------------------------uploadFileToserverFunctions\n  // UplpadComponent = () => {\n  //   const [fileData, setFileData] = useState();\n\n  //   const fileChangeHandler = (e) => {\n  //     setFileData(e.target.files[0]);\n  //   };\n\n  //   const onSubmitHandler = (e) => {\n  //     e.preventDefault();\n  //     console.log(\"console log e in UplpadComponent -  \", e);\n  //     // Handle File Data from the state Before Sending\n  //     const data = new FormData();\n\n  //     data.append(\"image\", fileData);\n    \n  //     this.state.url = \"./images/\" + \"Lesson\" + \"--\" + fileData.name;  //changing url\n  //     fetch(\"http://localhost:5000/single\", {\n  //       method: \"POST\",\n  //       body: data,\n  //     })\n  //       .then((result) => {\n  //         console.log(\"File Sent Successful\");\n  //         console.log(\n  //           \"filedata is ------ image \",\n  //           \"Lesson\" + \"--\" + fileData.name\n  //         );\n  //       })\n  //       .catch((err) => {\n  //         console.log(err.message);\n  //       });\n  //   };\n\n\n    \n  //   return (\n  //     <>\n  //       <form onSubmit={onSubmitHandler} onChange={fileChangeHandler} >\n  //         <input type=\"file\" onChange={fileChangeHandler} />\n  //         <br />\n  //         <br />\n\n  //         {/* <button type=\"submit\">Submit File to Backend</button> */}\n  //       </form>\n  //       <br />\n  //         <br /> <br />\n  //         <br /> <br />\n  //         <br /> <br />\n  //         <br /> <br />\n  //         <br /> <br />\n  //         <br /> <br />\n  //         <br />\n  //     </>\n  //   );\n  // };\n\n\n\n  UplpadComponentVideo = () => {\n    const [fileData, setFileData] = useState();\n\n    const [filePath, setFilPath] = useState();\n    \n    const fileChangeHandler = (e) => {\n      setFileData(e.target.files[0]);\n    };\n\n    const [src, setSrc] = useState(\"\");\n\n    const handleChange = (event) => {\n      try {\n        // Get the uploaded file\n        const file = event.target.files[0];\n  \n        // Transform file into blob URL\n        setSrc(URL.createObjectURL(file));\n      } catch (error) {\n        console.error(error);\n      }\n    };\n\n\n\n    const onSubmitHandler = (e) => {\n      e.preventDefault();\n      console.log(\"console log e in UplpadComponent -  \", e);\n      // Handle File Data from the state Before Sending\n      const data = new FormData();\n\n      data.append(\"image\", fileData);\n      setFilPath(fileData.filePath)\n      console.log('filePath name - ---- - --  ',filePath)\n      let lcase=String(fileData.name).toLowerCase()\n      console.log('fileFata name after lowercase',lcase)\n      this.state.urlVideo = src\n      // this.state.urlVideo = \"/static/media/\" + \"Lesson\" + \"--\" + (lcase);\n      fetch(\"http://localhost:5000/single\", {\n        method: \"POST\",\n        body: data,\n      })\n        .then((result) => {\n          console.log(\"File Sent Successful\");\n          console.log('this is response --------------------- ',result);\n        })\n        .catch((err) => {\n          console.log(err.message);\n        });\n    };\n\n\n\n    return (\n      <>\n        <form onSubmit={onSubmitHandler} enctype=\"multipart/form-data\">\n          <input type=\"file\" onChange={fileChangeHandler} />\n          <br />\n          <br />\n\n          <button type=\"submit\">Submit File to Backend</button>\n        </form>\n\n        <video src={src} controls width=\"100%\">\n          Sorry, your browser doesn't support embedded videos.\n        </video>\n          <input type=\"file\" onChange={handleChange} />\n\n\n      </>\n    );\n  };\n  //------------------------------------------------------------------------\n\n  render() {\n    const { auth } = this.props;\n\n    if (!auth.uid) return <Redirect to=\"/signin\" />;\n\n    return (\n      <div className=\"container\">\n        <form className=\"white\" onSubmit={this.handleSubmit} >\n          <h5 className=\"grey-text text-darken-3\">Create New Project</h5>\n          <div>\n            <label htmlFor=\"Category\">Category</label>\n            {/* <Select options={colourOptions} type=\"text\" id=\"Category\" onChange={this.handleChange} /> */}\n            <CustomSelect options={options} onChange={this.onChangeInput} />\n          </div>\n\n          <br />\n          <br />\n\n          <div className=\"input-field\">\n            <label htmlFor=\"title\">Title</label>\n            <input type=\"text\" id=\"title\" onChange={this.handleChange} />\n          </div>\n\n          <br />\n          <br />\n\n          <div className=\"input-field\">\n            <label htmlFor=\"content\">Project Content</label>\n            <textarea\n              id=\"content\"\n              className=\"materialize-textarea\"\n              onChange={this.handleChange}\n            ></textarea>\n          </div>\n\n          <div>{/* <this.ReactFirebaseFileUpload/> */}</div>\n\n          {/* <div className=\"input-field\">\n                        <label htmlFor=\"picture\">IMAGE LINK</label>\n                        <input type=\"text\" id=\"picture\" onChange={this.handleChange} />\n                    </div>\n                     */}\n          <br />\n          <br />\n\n          <div className=\"input-field\">\n            <label htmlFor=\"name\">name</label>\n            <input type=\"text\" id=\"name\" onChange={this.handleChange} />\n          </div>\n\n          <br />\n          <br />\n\n          <div className=\"input-field\">\n            <label htmlFor=\"price\">price</label>\n            <input type=\"number\" id=\"price\" onChange={this.handleChange} />\n          </div>\n\n          <div className=\"input-field\">\n            <label htmlFor=\"default qty\">default qty</label>\n            <input\n              type=\"number\"\n              id=\"default qty\"\n              onChange={this.handleChange}\n            />\n          </div>\n          <br />\n          <br />\n{/* \n          <this.UplpadComponent /> */}\n          <this.UplpadComponentVideo />\n         \n\n          <div className=\"input-field\">\n            <button className=\"btn pink lighten-1 z-depth-0\">\n              Create Project\n            </button>\n          </div>\n        </form>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    auth: state.firebase.auth,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    createProductAction: (product) => dispatch(createProductAction(product)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CreateProject);\n"]},"metadata":{},"sourceType":"module"}